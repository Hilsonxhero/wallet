import{d as U,r as s,o as B,m as _,j as o,F as D,n as F,g as l,w as u,b as N,p as S,e as n,f,k as b,t as j,l as A,A as E}from"./app-CIkqkhwh.js";const M={class:"py-4"},L={class:"mb-2"},O=o("div",{class:"mb-6"},[o("h2",{class:"text-xl"},"ایجاد کیف پول")],-1),T={class:"grid grid-cols-12 gap-4"},q={class:"col-span-6"},z={class:"col-span-6"},G={class:"col-span-12"},K=U({__name:"create",setup(H){const g=s([{state:"paypal",value:"paypal"},{state:"webmoney",value:"webmoney"},{state:"perfectmoney",value:"perfectmoney"}]),c=s([]),d=s(!1),y=s(null),t=s({name:"",description:"",type:"paypal"}),m=s(!1);s([p=>p?!0:"نام   کیف پول  الزامی می باشد"]);const h=N();S();const V=async p=>{const{valid:e}=await y.value.validate();if(e){d.value=!0;const i=new FormData;i.append("name",t.value.name),i.append("description",t.value.description),i.append("type",t.value.type);try{const{data:r}=await E.post("management/wallets",i);r.status==200&&(m.value=!0,h.push({name:"management-wallets-index"})),d.value=!1}catch(r){c.value=[],Object.values(r.response.data.data).forEach(v=>{c.value.push(v[0])}),d.value=!1}}},w=async()=>{};return B(()=>{w()}),(p,e)=>{const i=n("v-alert"),r=n("v-text-field"),v=n("v-select"),x=n("v-btn"),k=n("v-form"),C=n("v-sheet"),R=n("v-snackbar");return f(),_("div",null,[o("div",M,[(f(!0),_(D,null,F(c.value,(a,I)=>(f(),_("div",L,[l(i,{border:"end","border-color":"error",elevation:"2"},{default:u(()=>[b(j(a),1)]),_:2},1024)]))),256))]),l(C,null,{default:u(()=>[O,l(k,{ref_key:"formRef",ref:y,"validate-on":"submit",onSubmit:A(V,["prevent"])},{default:u(()=>[o("div",T,[o("div",q,[l(r,{modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.name=a),hint:"",label:"نام","single-line":""},null,8,["modelValue"])]),o("div",z,[l(v,{modelValue:t.value.type,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.type=a),label:"انتخاب  نوع کیف پول",items:g.value,"item-title":"state","item-value":"value","single-line":""},null,8,["modelValue","items"])]),o("div",G,[l(r,{modelValue:t.value.description,"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.description=a),label:"توضیحات",density:"compact","single-line":"","persistent-hint":"",hint:" "},null,8,["modelValue"])])]),l(x,{loading:d.value,color:"light-blue-accent-4",type:"submit",block:"",class:"mt-2"},{default:u(()=>[b("ایجاد")]),_:1},8,["loading"])]),_:1},512)]),_:1}),l(R,{absolute:"",modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=a=>m.value=a),timeout:2e4},{default:u(()=>[b(" کیف پول با موفقیت ایجاد شد. ")]),_:1},8,["modelValue"])])}}});export{K as default};
